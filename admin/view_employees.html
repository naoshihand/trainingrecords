<?php
require 'require/config.php';
$employees = query("SELECT * FROM employee");
?>

<!DOCTYPE html>
<html>
<title>View Employee</title>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="assets/css/header.css">
<link rel="stylesheet" href="assets/css/training_form.css">
<link rel="stylesheet" href="assets/css/styles.css">
<link rel="stylesheet" href="assets/css/container.css">

<body style="overflow-y: hidden;">
	<nav class="navbar navbar-expand-lg navigation-clean-search">
	<div class="container">
	  <img class="logo" src="assets/img/logo.jpeg">
	  <div class="collapse navbar-collapse" id="navcol-1">
		<ul class="navbar-nav"></ul>
	  </div>
	</div>
  </nav>
	<div class="wrapper">
  
		  <!-- Sidebar/menu -->
		  <nav class="sidebar collapse" id="mySidebar"><br>
			<div style="padding:0.01em 16px">
			</div>
			<div>
			  <a href="dashboard.html">
				<button-bar>
				  <i class="fa fa-th-large fa-fw" style="margin-right:16px!important"></i>Dashboard
				</button-bar>
			  </a>
			  <a href="view_add_admins.html">
				<button-bar>
				  <i class="fa fa-group fa-fw" style="margin-right:16px!important"></i>View/Add Admins
				</button-bar>
			  </a>
			  <a href="requests.html">
				<button-bar>
				  <i class="fa fa-bell fa-fw" style="margin-right:16px!important"></i>Requests
				</button-bar>
			  </a>
			  <a href="view_add_trainings.html">
				<button-bar>
				  <i class="fa fa-file-text-o fa-fw" style="margin-right:16px!important"></i>View/Add Training
				</button-bar>
			  </a>
			  <a href="view_employees.html">
				<button-bar>
				  <i class="fa fa-address-card-o fa-fw" style="margin-right:16px!important"></i>View Employees
				</button-bar>
			  </a>
			  <a href="account_settings.html">
				<button-bar>
				  <i class="fa fa-cog fa-fw" style="margin-right:16px!important"></i>Account Settings
				</button-bar>
			  </a>
			  <a href="logout.html">
				<button-bar href="logout.html">
				  <i class="fa fa-sign-out fa-fw" style="margin-right:16px!important"></i>Logout
				</button-bar>
			  </a>
			</div>
		  </nav>

	<!-- Overlay effect when opening sidebar on small screens -->
    <div class="overlay-effect hide-large" onclick="w3_close()" style="cursor:pointer" title="close side menu"
      id="myOverlay"></div>

    <div class="main">
      <span class="hide-large hover-text-gray" onclick="w3_open()"
        style="margin:20px 20px; font-size:36px!important;"><i class="fa fa-bars"></i></span>
      <div style="padding:0.01em 16px;margin-top: 24px">
        <h1><b>View Employee</b></h1>
      </div>

	  <!--
	  <header>
		<!-- Header
		<button class="search_btn" type="submit"><i class="fa fa-search"></i></button>
		<input type="text" placeholder="Search..">
		<!-- Trigger/Open the Modal 
		<button class="w3-button w3-red" onclick="document.getElementById('filter_popup').style.display='block'" class="w3-button">Filter</button>
	  	<!-- The Modal 
		  <div id="filter_popup" class="w3-modal">
			<div class="w3-modal-content">
				<div class="w3-container">
					<span onclick="document.getElementById('filter_popup').style.display='none'"
						class="w3-button w3-display-topright">&times;</span>
					<p>Filter by Department</p>
					<select name="site" id="site">
						<option value="Bulgaria">Bulgaria</option>
					</select>
					<p>Filter by Status</p>
					<select name="site" id="site">
						<option value="Bulgaria">Bulgaria</option>
					</select>
					<p>Filter by Role</p>
					<select name="site" id="site">
						<option value="Bulgaria">Bulgaria</option>
					</select>
					<div class="w3-container w3-margin-top w3-margin-bottom" style="float: right;">
						<button class="w3-button w3-red">Set</button>
						<button class="w3-button w3-gray">Clear Filters</button>
					</div>
				</div>
			</div>
		</div>
	</header>	
-->

		<div class="container_2">
			<table>
				<div style="width:95%">
				  <tr>
					<th style="width:5%">ID</th>
					<th style="width:10%">FirstName</th>
					<th style="width:10%">LastName</th>
					<th style="width:10%">Gender</th>
					<th style="width:10%">Department</th>
					<th style="width:10%">Position</th>
					<th style="width:10%">Site</th>
					<th style="width:10%">Supervisor</th>
					<th style="width:10%">Total Tr Hour</th>
					<th style="width:10%">Rolte</th>
					<th style="width:10%">Status</th>
				  </tr>
				  <tr>
					<td>ID</td>
					<td>FirstName</td>
					<td>LastName</td>
					<td>Gender</td>
					<td>Department</td>
					<td>Position</td>
					<td>Site</td>
					<td>Supervisor</td>
					<td>Total Tr Hour</td>
					<td>Rolte</td>
					<td>Status</td>
				  </tr>
				<?php $i = 1 ?>
                <?php foreach($employees as $employee) : ?>
				<tr>
					<td><?= $employee["employee_id"] ?></td>
					<td><?= $employee["first_name"] ?></td>
                    <td><?= $employee["middle_name"] ?></td>
					<td><?= $employee["last_name"] ?></td>
					<td><?= $employee["gender"] ?></td>
					<td><?= $employee["position_name"] ?></td>
					<td><?= $employee["site"] ?></td>
					<td><?= $employee["total_training_hours"] ?></td>
					<td><?= $employee["role"] ?></td>
					<td><?= $employee["status"] ?></td>
				</tr>
				<?php $i++ ?>
                <?php endforeach; ?>
			</table>
		</div>
	</div>
	<script src="assets/js/sidebar.js"></script>
</body>

</html>